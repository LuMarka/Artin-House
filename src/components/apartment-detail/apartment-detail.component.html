<main class="apartment-detail">
  @if (apartment) {
    <div class="apartment-detail__container">
      <!-- Navigation Bar -->
      <nav class="apartment-detail__nav">
        <div class="apartment-detail__nav-content">
          <button (click)="goHome()" class="apartment-detail__nav-button apartment-detail__nav-button--home">
            <svg class="apartment-detail__nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
            </svg>
            Inicio
          </button>
          
          <div class="apartment-detail__nav-center">
            <h1 class="apartment-detail__nav-title">Artin House Luján</h1>
          </div>

          <div class="apartment-detail__nav-apartments">
            <button 
              (click)="goToApartment('artin-house-i')" 
              [class]="'apartment-detail__nav-button ' + (apartmentId === 'artin-house-i' ? 'apartment-detail__nav-button--active' : '')"
            >
              Artin House I
            </button>
            <button 
              (click)="goToApartment('artin-house-ii')" 
              [class]="'apartment-detail__nav-button ' + (apartmentId === 'artin-house-ii' ? 'apartment-detail__nav-button--active' : '')"
            >
              Artin House II
            </button>
          </div>
        </div>
      </nav>

      <!-- Hero Section -->
      <div class="apartment-detail__hero">
        <div class="apartment-detail__hero-content">
          <h1 class="apartment-detail__title">{{ apartment.title }}</h1>
          <div class="apartment-detail__specs">
            <span class="apartment-detail__spec">{{ apartment.specs.guests }}</span>
            <span class="apartment-detail__spec">{{ apartment.specs.rooms }}</span>
            <span class="apartment-detail__spec">{{ apartment.specs.bathrooms }}</span>
            <span class="apartment-detail__spec">{{ apartment.specs.size }}</span>
          </div>
        </div>
      </div>

      <!-- Image Gallery -->
      <section class="apartment-detail__gallery">
        <div class="apartment-detail__main-image">
          <img 
            [ngSrc]="apartment.images[selectedImageIndex].src" 
            [alt]="apartment.images[selectedImageIndex].alt"
            class="apartment-detail__featured-image"
            width="800" 
            height="600" 
            priority
          />
          <p class="apartment-detail__image-description">
            {{ apartment.images[selectedImageIndex].description }}
          </p>
        </div>
        
        <div class="apartment-detail__thumbnail-grid">
          @for (image of apartment.images; track image.src; let i = $index) {
            <button 
              (click)="selectImage(i)"
              [class]="i === selectedImageIndex ? 'apartment-detail__thumbnail apartment-detail__thumbnail--active' : 'apartment-detail__thumbnail'"
            >
              <img 
                [ngSrc]="image.src" 
                [alt]="image.alt"
                class="apartment-detail__thumbnail-image"
                width="200" 
                height="150"
              />
            </button>
          }
        </div>
      </section>

      <!-- Details Section -->
      <section class="apartment-detail__content">
        <div class="apartment-detail__info">
          <div class="apartment-detail__description">
            <h2 class="apartment-detail__section-title">Descripción</h2>
            <p class="apartment-detail__text">{{ apartment.description }}</p>
          </div>

          <div class="apartment-detail__amenities">
            <h2 class="apartment-detail__section-title">Amenidades</h2>
            <div class="apartment-detail__amenities-grid">
              @for (amenity of apartment.amenities; track amenity) {
                <div class="apartment-detail__amenity">
                  <svg class="apartment-detail__amenity-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                  <span>{{ amenity }}</span>
                </div>
              }
            </div>
          </div>
        </div>

        <!-- Booking CTA -->
        <div class="apartment-detail__booking">
          <div class="apartment-detail__booking-card">
            <h3 class="apartment-detail__booking-title">¿Te interesa este alojamiento?</h3>
            <p class="apartment-detail__booking-text">Consulta disponibilidad y realiza tu reserva</p>
            <button (click)="goToBooking()" class="apartment-detail__booking-button">
              Reservar Ahora
            </button>
          </div>
        </div>
      </section>
    </div>
  }
</main>

<app-footer></app-footer>